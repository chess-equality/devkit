# DNS allowlist configuration

# Forward only explicitly allowed domains; everything else resolves to 0.0.0.0 (effectively blocked).

# Allowed domains (mirror the proxy allowlist; extend via devctl allow <domain>)
server=/github.com/1.1.1.1
server=/api.github.com/1.1.1.1
server=/objects.githubusercontent.com/1.1.1.1
server=/ssh.github.com/1.1.1.1
server=/deb.nodesource.com/1.1.1.1
server=/registry.npmjs.org/1.1.1.1
server=/registry.npmjs.com/1.1.1.1
server=/nodejs.org/1.1.1.1
server=/cdn.contentful.com/1.1.1.1
server=/api.contentful.com/1.1.1.1
server=/pypi.org/1.1.1.1
server=/files.pythonhosted.org/1.1.1.1
server=/repo1.maven.org/1.1.1.1
server=/repo.scala-sbt.org/1.1.1.1
server=/oss.sonatype.org/1.1.1.1
server=/jitpack.io/1.1.1.1
server=/archive.ubuntu.com/1.1.1.1
server=/security.ubuntu.com/1.1.1.1
server=/keyserver.ubuntu.com/1.1.1.1
server=/chatgpt.com/1.1.1.1

# AWS + OpenAI
server=/sts.us-east-2.amazonaws.com/1.1.1.1
server=/s3.us-east-2.amazonaws.com/1.1.1.1
server=/s3.amazonaws.com/1.1.1.1
server=/textract.us-east-2.amazonaws.com/1.1.1.1
server=/comprehend.us-east-2.amazonaws.com/1.1.1.1
server=/sts.amazonaws.com/1.1.1.1
server=/secretsmanager.us-east-1.amazonaws.com/1.1.1.1
server=/secretsmanager.us-east-2.amazonaws.com/1.1.1.1
server=/rekognition.us-east-2.amazonaws.com/1.1.1.1
server=/rekognition-fips.us-east-2.amazonaws.com/1.1.1.1
server=/api.openai.com/1.1.1.1
server=/platform.openai.com/1.1.1.1
server=/docs.aws.amazon.com/1.1.1.1
server=/awscli.amazonaws.com/1.1.1.1

# Default: block everything else by resolving to 0.0.0.0
address=/#/0.0.0.0

no-resolv
log-queries
log-facility=/var/log/dnsmasq.log

server=/example.com/1.1.1.1
server=/example.org/1.1.1.1
server=/claude.ai/1.1.1.1
server=/anthropic.com/1.1.1.1
